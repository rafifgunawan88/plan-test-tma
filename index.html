<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

    <!-- Datatables -->

    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.4.0/css/select.dataTables.min.css.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/2.0.1/css/searchPanes.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/datetime/1.1.2/css/dataTables.dateTime.min.css" />
    <script src="script.js"></script>

    <title>PLAN TEST</title>

    <style>
      .card {
        margin: 10px 0px 100px 0px;
      }
      .atas {
        margin-top: 10px;
      }
      span {
        float: right;
        display: block;
        font-size: 20px;
        margin: 5px auto;
      }
      .chart {
        margin-top: 10px;
        margin-bottom: 30px;
        margin-left: 0px;
        margin-right: 0px;
        border: 1px solid black;
        height: 90%;
        width: 100%;
        border-radius: 5px;
        padding: 0%;
        display: inline-block;
        position: relative;
      }
      .tabel-chart {
        text-align: center;
        height: 80%;
        width: 100%;
        display: inline-block;
        position: relative;
      }
      .running-text {
        color: red;
        font-size: 20px;
      }
      img {
        margin: 10px auto;
      }
      /* .footer {
        text-align: center;
        align-item:center;
      } */
      /* footer { */
      /* position: fixed; */
      /* padding: 10px; */
      /* bottom: 0;
        margin-left: 10px;
        margin-right: 10px;*/
      /* margin-bottom: 10px; */
      /* width:100%; */
      /* background-color: red; */
      /* color: white; */
      /* text-align: left; */
      /* font-size: 10px; */
      /* } */
    </style>
  </head>
  <body>
    <!-- BAGIAN ACDEP -->
    <div class="mx-auto" style="width: 90%">
      <div class="row">
        <div class="col-2">
          <div class="card bg-danger">
            <img src="foto.jpg" class="card-img-top" alt="fotouser" style="width: 50%" />
            <div class="card-body">
              <h5 class="card-title">Nama Lengkap</h5>
              <p class="card-text">Email</p>
              <div>
                <a href="#" class="btn btn-primary bg-opacity100"><span class="badge bg-primary rounded-pill">14</span> NOTIFICATION </a><br />
              </div>
              <br />
              <div>
                <a href="#" class="btn btn-primary bg-success"> <span class="badge bg-success rounded-pill">14</span> INBOX</a><br />
              </div>
              <br /><br />
              <a href="#" class="btn btn-primary bg-light" style="color: black">EXIT</a>
            </div>
          </div>
        </div>
        <div class="col-5 atas">
          <div class="running-text"><marquee class="py-3">Assisting Your Bussines From The Heart</marquee></div>
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link bg-light text-dark" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">COLUMN</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link bg-danger text-white" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">PIE</button>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">COLUMN</div>
            <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">PIE</div>
          </div>
        </div>
        <div class="col-5 atas">
          <div style="float: right; font-size: 20px">DAILY PERFORMANCE</div>
          <table id="table-atas" class="table table-bordered table align-middle">
            <thead class="table-secondary">
              <tr>
                <th scope="col">Day</th>
                <th scope="col">Target Time (Hour)</th>
                <th scope="col">Work Time (Hour)</th>
                <th scope="col">Achievement (Precentage)</th>
                <th scope="col">Overtime (Hour)</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- AKHIR BAGIAN ACDEP -->

    <!-- BAGIAN F -->
    <div class="mx-auto" style="width: 90%">
      <table border="0" cellspacing="5" cellpadding="5">
        <tbody>
          <tr>
            <td>START DATE:</td>
            <td><input type="text" id="min" name="min" /></td>
          </tr>
          <tr>
            <td>END DATE:</td>
            <td><input type="text" id="max" name="max" /></td>
          </tr>
        </tbody>
      </table>
      <table id="example" class="table table-bordered table-striped display nowrap">
        <thead class="table-secondary">
          <tr>
            <th scope="col">DATE</th>
            <th scope="col">TARGET TIME (HOUR)</th>
            <th scope="col">WORK TIME (HOUR)</th>
            <th scope="col">ACHIEVEMENT (PRECENTAGE)</th>
            <th scope="col">OVERTIME (HOUR)</th>
            <th scope="col">DAY</th>
          </tr>
        </thead>

        <tbody></tbody>
      </table>
    </div>
    <!-- AKHIR F -->

    <!-- BAGIAN G,H,I -->
    <div class="mx-auto" style="width: 90%">
      <div class="row">
        <span style="text-align: right"> YEAR SUMMARY PERFORMANCE </span>
        <div class="col-4">
          <table class="table table-bordered table align-middle">
            <thead class="table-secondary">
              <tr>
                <th scope="col">COLUMN</th>
              </tr>
            </thead>
            <tbody id="chartcolumn">
              <tr>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-4">
          <table class="table table-bordered">
            <thead class="table-secondary">
              <tr>
                <th scope="col">PIE</th>
              </tr>
            </thead>
            <tbody id="chartpie">
              <tr>
                <td class="chartpiee"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-4">
          <table class="table table-bordered">
            <thead class="table-secondary">
              <tr>
                <th scope="col">AREA</th>
              </tr>
            </thead>
            <tbody id="chartarea">
              <tr>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- AKHIR G,H,I -->

    <!-- BAGIAN J,K,L,M -->
    <div class="mx-auto m-5" style="width: 90%"></div>
    <!-- BAGIAN J,K,L,M -->

    <!-- BAGIAN FOOTER (N, O) -->

    <footer class="p-2 d-flex justify-content-between fixed-bottom text-light bg-danger mx-auto" style="width: 90%">
      <div>TECH MAYANTRA ASIA</div>
      <div onload="realtimeClock()">
        <span id="clock"></span>
        <span>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#inbox">Inbox</button>
        </span>
        <span></span>
        <span>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notif">Notif</button>
        </span>
      </div>
    </footer>

    <!-- AKHIR BAGIAN FOOTER (N, O) -->

    <!-- Modal -->
    <div class="modal fade" id="inbox" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col">
                <table class="table table-bordered table align-middle">
                  <thead class="table-secondary">
                    <tr>
                      <th scope="col">INBOX</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>0</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="notif" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col">
                <table class="table table-bordered table align-middle">
                  <thead class="table-secondary">
                    <tr>
                      <th scope="col">NOTIFICATION</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>0</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- AKHIR MODAL -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/datetime/1.1.2/js/dataTables.dateTime.min.js"></script>
    <script src="https://cdn.datatables.net/searchpanes/2.0.1/js/dataTables.searchPanes.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.4.0/js/dataTables.select.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>

    <script>
      $("#example").DataTable({
        ajax: {
          url: "data.json",
          dataSrc: "year_summary_performances",
        },
        columns: [{ data: "date" }, { data: "target_time" }, { data: "work_time" }, { data: "achievement" }, { data: "overtime" }, { data: "day" }],
      });
    </script>

    <script>
      $("#table-atas").DataTable({
        ajax: {
          url: "data.json",
          dataSrc: "daily_performances",
        },
        columns: [{ data: "date" }, { data: "target_time" }, { data: "work_time" }, { data: "achievement" }, { data: "overtime" }, { data: "day" }],
      });
    </script>

    <script>
      var minDate, maxDate;

      // Custom filtering function which will search data in column four between two values
      $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
        var min = minDate.val();
        var max = maxDate.val();
        var date = new Date(data[0]);

        if ((min === null && max === null) || (min === null && date <= max) || (min <= date && max === null) || (min <= date && date <= max)) {
          return true;
        }
        return false;
      });

      $(document).ready(function () {
        // Create date inputs
        minDate = new DateTime($("#min"), {
          format: "MMMM Do YYYY",
        });
        maxDate = new DateTime($("#max"), {
          format: "MMMM Do YYYY",
        });

        // DataTables initialisation
        var table = $("#example").DataTable();

        // Refilter the table
        $("#min, #max").on("change", function () {
          table.draw();
        });
      });
    </script>

    <!-- SCRIPT HIGHCART -->

    <script>
      $(document).ready(function () {
        // Create DataTable
        var table = $("#example").DataTable({
          dom: "Pfrtip",
        });

        // Create the chart with initial data
        var container = $("#chartcolumn");

        var chart = Highcharts.chart(container[0], {
          chart: {
            type: "column",
          },
          title: {
            text: "",
          },
          series: [
            {
              data: chartData(table),
            },
          ],
        });

        // On each draw, update the data in the chart
        table.on("draw", function () {
          chart.series[0].setData(chartData(table));
        });
      });

      function chartData(table) {
        var counts = {};

        // Count the number of entries for each position
        table
          .column(3, { search: "applied" })
          .data()
          .each(function (val) {
            if (counts[val]) {
              counts[val] += 1;
            } else {
              counts[val] = 1;
            }
          });

        // And map it to the format highcharts uses
        return $.map(counts, function (val, key) {
          return {
            name: key,
            y: val,
          };
        });
      }
    </script>

    <script>
      $(document).ready(function () {
        // Create DataTable
        var table = $("#example").DataTable({
          dom: "Pfrtip",
        });

        // Create the chart with initial data
        var container = $("#chartpie");

        var chart = Highcharts.chart(container[0], {
          chart: {
            type: "pie",
          },
          title: {
            text: "",
          },
          series: [
            {
              data: chartData(table),
            },
          ],
        });

        // On each draw, update the data in the chart
        table.on("draw", function () {
          chart.series[0].setData(chartData(table));
        });
      });

      function chartData(table) {
        var counts = {};

        // Count the number of entries for each position
        table
          .column(3, { search: "applied" })
          .data()
          .each(function (val) {
            if (counts[val]) {
              counts[val] += 1;
            } else {
              counts[val] = 1;
            }
          });

        // And map it to the format highcharts uses
        return $.map(counts, function (val, key) {
          return {
            name: key,
            y: val,
          };
        });
      }
    </script>

    <script>
      $(document).ready(function () {
        // Create DataTable
        var table = $("#example").DataTable({
          dom: "Pfrtip",
        });

        // Create the chart with initial data
        var container = $("#chartarea");

        var chart = Highcharts.chart(container[0], {
          chart: {
            type: "area",
          },
          title: {
            text: "",
          },
          series: [
            {
              data: chartData(table),
            },
          ],
        });

        // On each draw, update the data in the chart
        table.on("draw", function () {
          chart.series[0].setData(chartData(table));
        });
      });

      function chartData(table) {
        var counts = {};

        // Count the number of entries for each position
        table
          .column(3, { search: "applied" })
          .data()
          .each(function (val) {
            if (counts[val]) {
              counts[val] += 1;
            } else {
              counts[val] = 1;
            }
          });

        // And map it to the format highcharts uses
        return $.map(counts, function (val, key) {
          return {
            name: key,
            y: val,
          };
        });
      }
    </script>

    <!-- AKHIR SCRIPT HIGHCHART -->
  </body>
</html>
